import{r as i,s as z,O as l,P as E,j as N,c as n,o as d,d as _,u as I,h as A,w as B,a as e,k as u,b as m,m as v,F as Y,l as U,t as a,H as F,f as M,g as w,e as O,p as P}from"./app-B-7S2JYk.js";/* empty css            */const q={class:"px-2 md:px-0"},H={class:"featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},L={class:"featured-heading bg-gradient-to-r from-orange-400 to-red-500 px-4 py-3 flex items-center"},G={class:"text-white font-bold"},J={class:"featured-icon"},K={class:"overflow-x-auto"},Q={class:"min-w-full"},R={class:"px-2 py-3"},W={class:"flex items-center justify-between"},X={class:"flex items-center"},Z=["href"],ee={key:0,class:""},te=["href"],se={key:0,class:"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2"},oe={class:"text-center px-2 py-2 hidden md:table-cell"},le={class:"bg-green-600 text-white px-1 text-xs rounded"},ae={class:"text-center px-2 py-2 hidden md:table-cell"},ne={class:"bg-red-800 text-white px-1 text-xs rounded"},de={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},re={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},ie={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},ce=["href"],ue={class:"text-orange-400 hover:text-orange-300 transition-colors"},xe={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},me={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},pe={class:"text-gray-600 mb-6"},fe={class:"font-bold"},be={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},ge={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},he={class:"mb-4"},ye={class:"mb-4"},Me={__name:"TorrentMovie",emits:["delete","edit"],setup(_e,{emit:D}){const p=i(!1),f=i(!1),c=i(null),b=i(null),r=z({name:"",description:""});l.extend(E);const{props:k}=N(),x=i(k.torrents),T=o=>{const t=l();return l(o,l.ISO_8601,!0).isValid()?l(o):(o=o.replace(/(\d+)(st|nd|rd|th)/gi,"$1"),o=o.replace(/'(\d{2})/,"20$1"),o=o.replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(o)?l(`${t.format("YYYY-MM-DD")} ${o}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):l(o,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))},$=o=>{const t=T(o),s=l();return t.isValid()?t.isSame(s,"day")?t.format("h:mma"):t.format("MMM. D, YYYY"):"Invalid date"},g=D;function h(){f.value=!1,b.value=null}function C(){g("edit",{...b.value,...r}),h()}function y(){p.value=!1,c.value=null}function V(){g("delete",c.value),j(c.value.id),y()}async function j(o){P.deleteTorrent(o).then(t=>{x.value=x.value.filter(function(s){return s.id!=o})}).catch(t=>console.error(t))}return(o,t)=>(d(),n(Y,null,[_(I(A),{title:"Your Torrents torrents"}),_(O,null,{default:B(()=>[e("div",q,[e("div",H,[e("div",L,[e("h2",G,[e("span",J,[e("i",{class:v(o.icon)},null,2)]),t[2]||(t[2]=m(" Your Torrents torrents ",-1))])]),e("div",K,[e("table",Q,[t[3]||(t[3]=e("thead",{class:"bg-gray-700"},[e("tr",null,[e("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"size "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"}," uploader ")])],-1)),e("tbody",null,[(d(!0),n(Y,null,U(x.value,(s,S)=>(d(),n("tr",{key:S,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs"},[e("td",R,[e("div",W,[e("div",X,[e("a",{href:`/sub/${s.subcategory_id}/0/`},[s.subcategory?(d(),n("button",ee,[e("i",{class:v(`${s.subcategory.icon}`)},null,2)])):u("",!0)],8,Z),e("a",{href:`/torrent/${s.id}/${s.slug}/`,class:"text-gray-300 hover:text-orange-400 transition-colors ml-3"},a(s.name),9,te)]),s.comments_count?(d(),n("span",se,a(s.comments_count),1)):u("",!0)])]),e("td",oe,[e("span",le,a(s.seeders),1)]),e("td",ae,[e("span",ne,a(s.leechers),1)]),e("td",de,a($(s.approved_at)),1),e("td",re,a(s.size_formatted),1),e("td",ie,[e("a",{href:s.uploader},[e("span",ue,a(s.uploader?.split("/")[2]),1)],8,ce)])]))),128))])])])])]),p.value?(d(),n("div",xe,[e("div",me,[t[6]||(t[6]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Delete Confirmation ",-1)),e("p",pe,[t[4]||(t[4]=m(" Are you sure you want to delete ",-1)),e("span",fe,a(c.value?.name),1),t[5]||(t[5]=m("? This action cannot be undone. ",-1))]),e("div",{class:"flex justify-end space-x-3"},[e("button",{onClick:y,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),e("button",{onClick:V,class:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white"}," Delete ")])])])):u("",!0),f.value?(d(),n("div",be,[e("div",ge,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Edit Item ",-1)),e("form",{onSubmit:F(C,["prevent"])},[e("div",he,[t[7]||(t[7]=e("label",{class:"block text-gray-700 mb-2"},"Name",-1)),M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.name=s),type:"text",class:"w-full px-3 py-2 border text-black rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[w,r.name]])]),e("div",ye,[t[8]||(t[8]=e("label",{class:"block text-gray-700 mb-2"},"Description",-1)),M(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.description=s),class:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"3"},null,512),[[w,r.description]])]),e("div",{class:"flex justify-end space-x-3"},[e("button",{type:"button",onClick:h,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),t[9]||(t[9]=e("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white"}," Save ",-1))])],32)])])):u("",!0)]),_:1})],64))}};export{Me as default};
