import{j as V,r as i,s as A,H as r,I as B,c,o as d,d as g,u as p,h as F,w as S,a as e,f as h,F as u,l as y,t as n,v as f,G as j,e as E,p as O}from"./app-D32pDooJ.js";/* empty css            */const U={class:"max-w-4xl mx-auto p-6 bg-gray-100 text-black min-h-screen"},z=["value"],I={class:"mt-3"},N=["value"],R={class:"overflow-x-auto mt-3"},G={class:"min-w-full boder-black"},H={class:"table-auto border-collapse border border-gray-500"},K=["onClick"],L={class:"px-2 py-3"},W={class:"flex items-center justify-between"},q={class:"flex items-center"},J={class:"text-center px-2 py-2 hidden md:table-cell"},Q={class:"bg-green-600 text-white px-1 text-xs rounded"},X={class:"text-center px-2 py-2 hidden md:table-cell"},Z={class:"bg-red-800 text-white px-1 text-xs rounded"},ee={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},te={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},se={class:"text-center px-2 py-2"},oe={class:"text-orange-400 hover:text-orange-300 transition-colors"},ce={__name:"Option",setup(ae){const{props:l}=V(),_=i(l.category),Y=i(l.torrents.data),v=i(l.sel_category),M=i(l.sel_subcategory),m=i(l.subcategories),b=l.torrents.current_page,x=l.torrents.last_page,a=A({language:"English",type:"Choose Category",category:v.value,subcategory:M.value,tags:""});r.extend(B);const w=t=>{const o=r();return r(t,r.ISO_8601,!0).isValid()?r(t):(t=t.replace(/(\d+)(st|nd|rd|th)/gi,"$1"),t=t.replace(/'(\d{2})/,"20$1"),t=t.replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(t)?r(`${o.format("YYYY-MM-DD")} ${t}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):r(t,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))},D=t=>{if(t)t=t.split(".")[0];else return"last year";const o=w(t),s=r();return o.isSame(s,"day")?o.format("h:mma"):o.format("ha MMM. D")},C=async()=>{if(a.category)try{const t=await O.get(`/option/category?category=${a.category}`);m.value=t.data?t.data.subcategory:[]}catch(t){console.error("Failed to fetch torrents:",t)}},k=t=>{console.log(t),t>=1&&t<=x.value&&(b.value=t)},P=async()=>{console.log(`/option/${a.subcategory}/1`),window.location.href=`/option/${a.subcategory}/1`},$=async t=>{window.location.href=`/edit/${t}`};return performance.navigation.type===performance.navigation.TYPE_BACK_FORWARD&&location.reload(),(t,o)=>(d(),c(u,null,[g(p(F),{title:"Your Torrents Uploads"}),g(E,null,{default:S(()=>[e("div",U,[e("div",null,[o[2]||(o[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),h(e("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>a.category=s),onChange:C,class:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(d(!0),c(u,null,y(_.value,s=>(d(),c("option",{key:s,value:s.id},n(s.name),9,z))),128))],544),[[f,a.category]])]),e("div",I,[o[3]||(o[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"SubCategory",-1)),h(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>a.subcategory=s),onChange:P,class:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(d(!0),c(u,null,y(m.value,s=>(d(),c("option",{key:s,value:s.id},n(s.name),9,N))),128))],544),[[f,a.subcategory]])]),e("div",R,[e("table",G,[o[4]||(o[4]=e("thead",{class:"bg-gray-600"},[e("tr",null,[e("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"size"),e("th",{class:"text-center px-4 py-1 text-gray-300 font-semibold"},"uploader")])],-1)),e("tbody",H,[(d(!0),c(u,null,y(Y.value,(s,T)=>(d(),c("tr",{key:T,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs",onClick:re=>$(s.id)},[e("td",L,[e("div",W,[e("div",q,n(s.name),1)])]),e("td",J,[e("span",Q,n(s.seeders),1)]),e("td",X,[e("span",Z,n(s.leechers),1)]),e("td",ee,n(D(s.approved_at)),1),e("td",te,n(s.size_formatted),1),e("td",se,[e("a",null,[e("span",oe,n(s.uploader?.split("/")[2]),1)])])],8,K))),128))])]),g(j,{currentPage:p(b),lastPage:p(x),onPageChanged:k},null,8,["currentPage","lastPage"])])])]),_:1})],64))}};export{ce as default};
