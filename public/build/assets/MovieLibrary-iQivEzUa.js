import{r as e,e as l,o as t,g as r,j as a,C as o,u as s,J as n,k as i,l as u,A as d,z as c,F as g,y as v,H as b,K as y}from"./vendor-iYT8hLxN.js";import{h as f,T as p,a as k,t as m}from"./app-DX8Qg3i4.js";/* empty css            */const x={class:"pt-5 w-full bg-gradient-to-r from-gray-250 to-gray-500 text-white"},w={class:"container"},h={class:"bg-gray-800 p-4 rounded-lg mb-6 flex items-center gap-4 flex-wrap"},C={class:"relative"},j={class:"relative"},A={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},M=["onClick"],B={class:"relative"},L={class:"relative"},S={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},z=["onClick"],O={class:"relative"},_={class:"relative"},D={key:0,class:"absolute top-full left-0 mt-1 w-36 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},E=["onClick"],T={class:"relative"},P={class:"relative"},R={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},H=["onClick"],F={class:"relative"},Y={class:"relative"},$={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},G=["onClick"],I={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},J=["onClick"],K={class:"p-2 flex justify-center"},q={class:"flex"},N={class:"p-6 text-white"},Q={class:"text-2xl font-bold mb-2 text-white"},U={class:"flex gap-2 mb-4"},V=["innerHTML"],W={class:"text-sm mb-6 leading-relaxed text-white opacity-90"},X={__name:"MovieLibrary",props:{page:String},setup(X){const Z=X,ee=e({genre:!1,year:!1,language:!1,sortBy:!1,sortOrder:!1}),le=e("All"),te=e("All"),re=e("All"),ae=e("Movie Score"),oe=e("Descending"),se=e(!1),ne=e(null),ie=e(["All","Action","Crime","Drama","Comedy","Thriller","Horror","Romance","Sci-Fi","Adventure"]),ue=e(["All","2025","2024","2023","2022","2021","2020","2019","2018","2017","2016","2015"]),de=e(["All","English","Spanish","French","German","Italian","Japanese","Korean","Chinese"]),ce=e(["Movie Score","Release Date","Title","Rating","Year"]),ge=e(["Descending","Ascending"]),ve=e([]),be=e(1),ye=e(1);e("movielibary");const fe=l(()=>{let e=[...ve.value];return"All"!==le.value&&(e=e.filter(e=>e.genre===le.value)),"All"!==te.value&&(e=e.filter(e=>e.year.toString()===te.value)),"All"!==re.value&&(e=e.filter(e=>e.language===re.value)),e}),pe=e=>{Object.keys(ee.value).forEach(l=>{l!==e&&(ee.value[l]=!1)}),ee.value[e]=!ee.value[e]},ke=()=>{let e="";switch(ae.value){case"Movie Score":default:e="score";break;case"Release Date":case"Year":e="year";break;case"Title":e="title";break;case"Rating":e="rating"}movies.value.sort((l,t)=>{let r=l[e],a=t[e];return"string"==typeof r&&(r=r.toLowerCase(),a=a.toLowerCase()),"Ascending"===oe.value?r>a?1:r<a?-1:0:r<a?1:r>a?-1:0})},me=()=>{se.value=!1,ne.value=null,document.body.style.overflow="auto"},xe=e=>{e>=1&&e<=ye.value&&(be.value=e)};return t(()=>{document.addEventListener("click",e=>{e.target.closest(".relative")||Object.keys(ee.value).forEach(e=>{ee.value[e]=!1})}),document.addEventListener("keydown",e=>{"Escape"===e.key&&se.value&&me()}),async function(e){try{const l=await m.get(`/library/movies?page=${e}`);ve.value=l.data.data,be.value=l.data.current_page,ye.value=l.data.last_page}catch(l){}}(Z.page)}),(e,l)=>(a(),r(g,null,[o(s(f),{title:e.$page.props.title},null,8,["title"]),o(k,null,{default:n(()=>[i("div",x,[i("div",w,[i("div",h,[i("div",C,[l[7]||(l[7]=i("label",{class:"block text-sm font-medium mb-1"},"Genre",-1)),i("div",j,[i("button",{onClick:l[0]||(l[0]=e=>pe("genre")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[i("span",null,d(le.value),1),(a(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":ee.value.genre}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[6]||(l[6]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),ee.value.genre?(a(),r("div",A,[(a(!0),r(g,null,v(ie.value,e=>(a(),r("button",{key:e,onClick:l=>(e=>{le.value=e,ee.value.genre=!1})(e),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(e),9,M))),128))])):u("",!0)])]),i("div",B,[l[9]||(l[9]=i("label",{class:"block text-sm font-medium mb-1"},"Year",-1)),i("div",L,[i("button",{onClick:l[1]||(l[1]=e=>pe("year")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[i("span",null,d(te.value),1),(a(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":ee.value.year}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[8]||(l[8]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),ee.value.year?(a(),r("div",S,[(a(!0),r(g,null,v(ue.value,e=>(a(),r("button",{key:e,onClick:l=>(e=>{te.value=e,ee.value.year=!1})(e),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(e),9,z))),128))])):u("",!0)])]),i("div",O,[l[11]||(l[11]=i("label",{class:"block text-sm font-medium mb-1"},"Language",-1)),i("div",_,[i("button",{onClick:l[2]||(l[2]=e=>pe("language")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-36 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[i("span",null,d(re.value),1),(a(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":ee.value.language}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[10]||(l[10]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),ee.value.language?(a(),r("div",D,[(a(!0),r(g,null,v(de.value,e=>(a(),r("button",{key:e,onClick:l=>(e=>{re.value=e,ee.value.language=!1})(e),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(e),9,E))),128))])):u("",!0)])]),i("div",T,[l[13]||(l[13]=i("label",{class:"block text-sm font-medium mb-1"},"Sort By",-1)),i("div",P,[i("button",{onClick:l[3]||(l[3]=e=>pe("sortBy")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[i("span",null,d(ae.value),1),(a(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":ee.value.sortBy}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[12]||(l[12]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),ee.value.sortBy?(a(),r("div",R,[(a(!0),r(g,null,v(ce.value,e=>(a(),r("button",{key:e,onClick:l=>{return t=e,ae.value=t,void(ee.value.sortBy=!1);var t},class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(e),9,H))),128))])):u("",!0)])]),i("div",F,[l[15]||(l[15]=i("label",{class:"block text-sm font-medium mb-1"},"Sort",-1)),i("div",Y,[i("button",{onClick:l[4]||(l[4]=e=>pe("sortOrder")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[i("span",null,d(oe.value),1),(a(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":ee.value.sortOrder}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[14]||(l[14]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),ee.value.sortOrder?(a(),r("div",$,[(a(!0),r(g,null,v(ge.value,e=>(a(),r("button",{key:e,onClick:l=>(e=>{oe.value=e,ee.value.sortOrder=!1})(e),class:c(["block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b",{"text-red-400":"Descending"===e}])},d(e),11,G))),128))])):u("",!0)])]),i("div",{class:"flex items-end"},[i("button",{onClick:ke,class:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-2 rounded font-medium transition-colors"}," Sort ")])]),i("div",I,[(a(!0),r(g,null,v(fe.value,e=>(a(),r("div",{key:e.id,class:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow"},[i("div",{class:"aspect-[2/3] bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center relative cursor-pointer",onClick:l=>(e=>{ne.value=e,se.value=!0,document.body.style.overflow="hidden"})(e)},[i("div",{class:"w-full h-64 bg-cover bg-center",style:b({backgroundImage:`url('${e.img_url}')`})},null,4)],8,J),i("div",K,[i("div",q,[(a(),r(g,null,v(5,t=>i("svg",{key:t,class:c([t<=e.rate?"text-yellow-400":"text-gray-500","w-4 h-4"]),fill:"currentColor",viewBox:"0 0 20 20"},l[16]||(l[16]=[i("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))])])]))),128))])])]),o(p,{currentPage:be.value,lastPage:ye.value,onPageChanged:xe},null,8,["currentPage","lastPage"]),se.value?(a(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:me},[i("div",{class:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg max-w-md w-full mx-4 relative overflow-hidden",onClick:l[5]||(l[5]=y(()=>{},["stop"]))},[i("button",{onClick:me,class:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},l[17]||(l[17]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),i("div",N,[i("h2",Q,d(ne.value?.info_title),1),i("div",U,[i("span",{class:"text-sm bg-black bg-opacity-20 px-5 py-1 rounded ml-10",innerHTML:ne.value?.category},null,8,V)]),i("p",W,d(ne.value?.content),1),l[18]||(l[18]=i("div",{class:"flex gap-3"},[i("div",{class:"text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2"})],-1))])])])):u("",!0)]),_:1})],64))}};export{X as default};
