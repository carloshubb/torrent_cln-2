import{r,s as S,G as l,H as E,j as N,c as a,o as n,d as f,u as U,h as A,w as B,a as e,k as m,b as x,m as b,F as g,l as I,t as d,e as z,p as F}from"./app-BBogDgjg.js";/* empty css            */const G={class:"px-2 md:px-0"},H={class:"featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},L={class:"featured-heading bg-gradient-to-r from-orange-400 to-red-500 px-4 py-3 flex items-center"},O={class:"text-white font-bold"},P={class:"featured-icon"},q={class:"overflow-x-auto"},J={class:"min-w-full"},K={class:"px-2 py-3"},Q={class:"flex items-center justify-between"},R={class:"flex items-center"},W=["href"],X={key:0,class:""},Z=["href"],ee={key:0,class:"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2"},te={class:"text-center px-2 py-2 hidden md:table-cell"},se={class:"bg-green-600 text-white px-1 text-xs rounded"},oe={class:"text-center px-2 py-2 hidden md:table-cell"},le={class:"bg-red-800 text-white px-1 text-xs rounded"},ae={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},ne={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},de=["onClick"],ie=["onClick"],re={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},ce={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},ue={class:"text-gray-600 mb-6"},me={class:"font-bold"},fe={__name:"TorrentUploads",emits:["delete","edit"],setup(xe,{emit:_}){const c=r(!1),y=r(!1),i=r(null),v=r(null),p=S({name:"",description:""});l.extend(E);const{props:Y}=N(),u=r(Y.uploads),M=t=>{const s=l();return l(t,l.ISO_8601,!0).isValid()?l(t):(t=t.replace(/(\d+)(st|nd|rd|th)/gi,"$1"),t=t.replace(/'(\d{2})/,"20$1"),t=t.replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(t)?l(`${s.format("YYYY-MM-DD")} ${t}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):l(t,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))},D=t=>{const s=M(t),o=l();return s.isValid()?s.isSame(o,"day")?s.format("h:mma"):s.format("MMM. D, YYYY"):"Invalid date"},w=_;function k(t){v.value=t,console.log(t.name),p.name=t.name||"",p.description=t.detail.description||"",y.value=!0}function $(t){i.value=t,c.value=!0}function h(){c.value=!1,i.value=null}function C(){w("delete",i.value),T(i.value.id),h()}async function T(t){F.deleteTorrent(t).then(s=>{u.value=u.value.filter(function(o){return o.id!=t})}).catch(s=>console.error(s))}return(t,s)=>(n(),a(g,null,[f(U(A),{title:"Your Torrents Uploads"}),f(z,null,{default:B(()=>[e("div",G,[e("div",H,[e("div",L,[e("h2",O,[e("span",P,[e("i",{class:b(t.icon)},null,2)]),s[0]||(s[0]=x(" Your Torrents Uploads ",-1))])]),e("div",q,[e("table",J,[s[3]||(s[3]=e("thead",{class:"bg-gray-700"},[e("tr",null,[e("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"remove "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"edit ")])],-1)),e("tbody",null,[(n(!0),a(g,null,I(u.value,(o,V)=>(n(),a("tr",{key:V,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs"},[e("td",K,[e("div",Q,[e("div",R,[e("a",{href:`/sub/${o.subcategory_id}/0/`},[o.subcategory?(n(),a("button",X,[e("i",{class:b(`${o.subcategory.icon}`)},null,2)])):m("",!0)],8,W),e("a",{href:`/torrent/${o.id}/${o.slug}/`,class:"text-gray-300 hover:text-orange-400 transition-colors ml-3"},d(o.name),9,Z)]),o.comments_count?(n(),a("span",ee,d(o.comments_count),1)):m("",!0)])]),e("td",te,[e("span",se,d(o.seeders),1)]),e("td",oe,[e("span",le,d(o.leechers),1)]),e("td",ae,d(D(o.approved_at)),1),e("td",ne,[e("button",{hidden:"",onClick:j=>k(o),class:"p-2 hover:text-blue-500 transition",title:"Edit"},s[1]||(s[1]=[e("i",{class:"fas fa-edit text-lg"},null,-1)]),8,de),e("button",{onClick:j=>$(o),class:"p-2 hover:text-red-500 transition",title:"Delete"},s[2]||(s[2]=[e("i",{class:"fas fa-trash text-lg"},null,-1)]),8,ie)])]))),128))])])])])]),c.value?(n(),a("div",re,[e("div",ce,[s[6]||(s[6]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Delete Confirmation ",-1)),e("p",ue,[s[4]||(s[4]=x(" Are you sure you want to delete ",-1)),e("span",me,d(i.value?.name),1),s[5]||(s[5]=x("? This action cannot be undone. ",-1))]),e("div",{class:"flex justify-end space-x-3"},[e("button",{onClick:h,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),e("button",{onClick:C,class:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white"}," Delete ")])])])):m("",!0)]),_:1})],64))}};export{fe as default};
