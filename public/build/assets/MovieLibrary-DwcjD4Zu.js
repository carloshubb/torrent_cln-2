import{q as a,z as K,l as N,d as q,o as r,w as J,a as t,e as Q,c as s,h as b,t as d,p as c,F as v,r as g,n as U,x as W,b as X}from"./app-BZLFEJd8.js";import{_ as Z}from"./AppLayout-CjrdCr8M.js";import{t as ee}from"./torrentService-D9x0Z0lh.js";import{T as te}from"./TorrentPagination-CVTy6qyP.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"pt-5 w-full bg-gradient-to-r from-gray-250 to-gray-500 text-white"},le={class:"container"},re={class:"bg-gray-800 p-4 rounded-lg mb-6 flex items-center gap-4 flex-wrap"},se={class:"relative"},ne={class:"relative"},ae={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ie=["onClick"],de={class:"relative"},ue={class:"relative"},ce={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ve=["onClick"],ge={class:"relative"},fe={class:"relative"},be={key:0,class:"absolute top-full left-0 mt-1 w-36 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ye=["onClick"],me={class:"relative"},pe={class:"relative"},ke={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},we=["onClick"],xe={class:"relative"},he={class:"relative"},_e={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},Ce=["onClick"],Me={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},Be=["onClick"],Se={class:"p-2 flex justify-center"},je={class:"flex"},Ae={class:"p-6 text-white"},Le={class:"text-2xl font-bold mb-2 text-white"},$e={class:"flex gap-2 mb-4"},ze=["innerHTML"],De={class:"text-sm mb-6 leading-relaxed text-white opacity-90"},Fe={__name:"MovieLibrary",props:{page:String},setup(S){const j=S,n=a({genre:!1,year:!1,language:!1,sortBy:!1,sortOrder:!1}),m=a("All"),p=a("All"),k=a("All"),x=a("Movie Score"),h=a("Descending"),w=a(!1),u=a(null),A=a(["All","Action","Crime","Drama","Comedy","Thriller","Horror","Romance","Sci-Fi","Adventure"]),L=a(["All","2025","2024","2023","2022","2021","2020","2019","2018","2017","2016","2015"]),$=a(["All","English","Spanish","French","German","Italian","Japanese","Korean","Chinese"]),z=a(["Movie Score","Release Date","Title","Rating","Year"]),D=a(["Descending","Ascending"]),_=a([]),C=a(1),M=a(1);a("movielibary");const O=K(()=>{let o=[..._.value];return m.value!=="All"&&(o=o.filter(e=>e.genre===m.value)),p.value!=="All"&&(o=o.filter(e=>e.year.toString()===p.value)),k.value!=="All"&&(o=o.filter(e=>e.language===k.value)),o}),y=o=>{Object.keys(n.value).forEach(e=>{e!==o&&(n.value[e]=!1)}),n.value[o]=!n.value[o]},P=o=>{m.value=o,n.value.genre=!1},T=o=>{p.value=o,n.value.year=!1},V=o=>{k.value=o,n.value.language=!1},E=o=>{x.value=o,n.value.sortBy=!1},R=o=>{h.value=o,n.value.sortOrder=!1},F=()=>{let o="";switch(x.value){case"Movie Score":o="score";break;case"Release Date":case"Year":o="year";break;case"Title":o="title";break;case"Rating":o="rating";break;default:o="score"}movies.value.sort((e,l)=>{let i=e[o],f=l[o];return typeof i=="string"&&(i=i.toLowerCase(),f=f.toLowerCase()),h.value==="Ascending"?i>f?1:i<f?-1:0:i<f?1:i>f?-1:0})},Y=o=>{u.value=o,w.value=!0,document.body.style.overflow="hidden"},B=()=>{w.value=!1,u.value=null,document.body.style.overflow="auto"},G=()=>{console.log(u.value),window.location.href=u.value.info_url,console.log("View releases for:",u.value.title)},H=o=>{console.log(o),o>=1&&o<=M.value&&(C.value=o)};async function I(o){try{const e=await ee.get(`/library/movies?page=${o}`);_.value=e.data.data,C.value=e.data.current_page,M.value=e.data.last_page,console.log(_)}catch(e){console.error("Failed to fetch torrents:",e)}}return N(()=>{document.addEventListener("click",o=>{o.target.closest(".relative")||Object.keys(n.value).forEach(e=>{n.value[e]=!1})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&w.value&&B()}),I(j.page)}),(o,e)=>(r(),q(Z,null,{default:J(()=>[t("div",oe,[t("div",le,[t("div",re,[t("div",se,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium mb-1"},"Genre",-1)),t("div",ne,[t("button",{onClick:e[0]||(e[0]=l=>y("genre")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(m.value),1),(r(),s("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.genre}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[6]||(e[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),n.value.genre?(r(),s("div",ae,[(r(!0),s(v,null,g(A.value,l=>(r(),s("button",{key:l,onClick:i=>P(l),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(l),9,ie))),128))])):b("",!0)])]),t("div",de,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium mb-1"},"Year",-1)),t("div",ue,[t("button",{onClick:e[1]||(e[1]=l=>y("year")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(p.value),1),(r(),s("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.year}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[8]||(e[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),n.value.year?(r(),s("div",ce,[(r(!0),s(v,null,g(L.value,l=>(r(),s("button",{key:l,onClick:i=>T(l),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(l),9,ve))),128))])):b("",!0)])]),t("div",ge,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium mb-1"},"Language",-1)),t("div",fe,[t("button",{onClick:e[2]||(e[2]=l=>y("language")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-36 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(k.value),1),(r(),s("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.language}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),n.value.language?(r(),s("div",be,[(r(!0),s(v,null,g($.value,l=>(r(),s("button",{key:l,onClick:i=>V(l),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(l),9,ye))),128))])):b("",!0)])]),t("div",me,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium mb-1"},"Sort By",-1)),t("div",pe,[t("button",{onClick:e[3]||(e[3]=l=>y("sortBy")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(x.value),1),(r(),s("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.sortBy}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),n.value.sortBy?(r(),s("div",ke,[(r(!0),s(v,null,g(z.value,l=>(r(),s("button",{key:l,onClick:i=>E(l),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(l),9,we))),128))])):b("",!0)])]),t("div",xe,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium mb-1"},"Sort",-1)),t("div",he,[t("button",{onClick:e[4]||(e[4]=l=>y("sortOrder")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(h.value),1),(r(),s("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.sortOrder}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[14]||(e[14]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),n.value.sortOrder?(r(),s("div",_e,[(r(!0),s(v,null,g(D.value,l=>(r(),s("button",{key:l,onClick:i=>R(l),class:c(["block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b",{"text-red-400":l==="Descending"}])},d(l),11,Ce))),128))])):b("",!0)])]),t("div",{class:"flex items-end"},[t("button",{onClick:F,class:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-2 rounded font-medium transition-colors"}," Sort ")])]),t("div",Me,[(r(!0),s(v,null,g(O.value,l=>(r(),s("div",{key:l.id,class:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow"},[t("div",{class:"aspect-[2/3] bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center relative cursor-pointer",onClick:i=>Y(l)},[t("div",{class:"w-full h-64 bg-cover bg-center",style:U({backgroundImage:`url('${l.img_url}')`})},null,4)],8,Be),t("div",Se,[t("div",je,[(r(),s(v,null,g(5,i=>t("svg",{key:i,class:c([i<=l.rate?"text-yellow-400":"text-gray-500","w-4 h-4"]),fill:"currentColor",viewBox:"0 0 20 20"},e[16]||(e[16]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))])])]))),128))])])]),Q(te,{currentPage:C.value,lastPage:M.value,onPageChanged:H},null,8,["currentPage","lastPage"]),w.value?(r(),s("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:B},[t("div",{class:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg max-w-md w-full mx-4 relative overflow-hidden",onClick:e[5]||(e[5]=W(()=>{},["stop"]))},[t("button",{onClick:B,class:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},e[17]||(e[17]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),t("div",Ae,[t("h2",Le,d(u.value?.info_title),1),t("div",$e,[t("span",{class:"text-sm bg-black bg-opacity-20 px-5 py-1 rounded ml-10",innerHTML:u.value?.category},null,8,ze)]),t("p",De,d(u.value?.content),1),t("div",{class:"flex gap-3"},[e[18]||(e[18]=t("div",{class:"text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),X(" Download: ")],-1)),t("button",{onClick:G,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded text-sm font-medium transition-colors"}," View Releases ")])])])])):b("",!0)]),_:1}))}};export{Fe as default};
