import{d as e,r as t,u as a,h as s,a as l,t as n}from"./app-DX8Qg3i4.js";import{r,b as d,g as o,j as i,C as c,u,J as x,k as p,l as m,q as b,z as h,F as g,y,A as f}from"./vendor-iYT8hLxN.js";/* empty css            */const v={class:"px-2 md:px-0"},Y={class:"featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},M={class:"featured-heading bg-gradient-to-r from-orange-400 to-red-500 px-4 py-3 flex items-center"},D={class:"text-white font-bold"},w={class:"featured-icon"},k={class:"overflow-x-auto"},C={class:"min-w-full"},$={class:"px-2 py-3"},_={class:"flex items-center justify-between"},j={class:"flex items-center"},T=["href"],U={key:0,class:""},z=["href"],A={key:0,class:"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2"},I={class:"text-center px-2 py-2 hidden md:table-cell"},S={class:"bg-green-600 text-white px-1 text-xs rounded"},V={class:"text-center px-2 py-2 hidden md:table-cell"},q={class:"bg-red-800 text-white px-1 text-xs rounded"},E={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},F={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},J=["onClick"],O=["onClick"],B={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},G={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},H={class:"text-gray-600 mb-6"},K={class:"font-bold"},L={__name:"TorrentUploads",emits:["delete","edit"],setup(L,{emit:N}){const P=r(!1),Q=r(!1),R=r(null),W=r(null),X=d({name:"",description:""});e.extend(t);const{props:Z}=a(),ee=r(Z.uploads),te=t=>{const a=(t=>{const a=e();return e(t,e.ISO_8601,!0).isValid()?e(t):(t=(t=(t=t.replace(/(\d+)(st|nd|rd|th)/gi,"$1")).replace(/'(\d{2})/,"20$1")).replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(t)?e(`${a.format("YYYY-MM-DD")} ${t}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):e(t,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))})(t),s=e();return a.isValid()?a.isSame(s,"day")?a.format("h:mma"):a.format("MMM. D, YYYY"):"Invalid date"},ae=N;function se(){P.value=!1,R.value=null}function le(){ae("delete",R.value),async function(e){n.deleteTorrent(e).then(t=>{ee.value=ee.value.filter(function(t){return t.id!=e})}).catch(e=>{})}(R.value.id),se()}return(e,t)=>(i(),o(g,null,[c(u(s),{title:"Your Torrents Uploads"}),c(l,null,{default:x(()=>[p("div",v,[p("div",Y,[p("div",M,[p("h2",D,[p("span",w,[p("i",{class:h(e.icon)},null,2)]),t[0]||(t[0]=b(" Your Torrents Uploads ",-1))])]),p("div",k,[p("table",C,[t[3]||(t[3]=p("thead",{class:"bg-gray-700"},[p("tr",null,[p("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),p("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se "),p("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le "),p("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time "),p("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"remove "),p("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"edit ")])],-1)),p("tbody",null,[(i(!0),o(g,null,y(ee.value,(e,a)=>(i(),o("tr",{key:a,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs"},[p("td",$,[p("div",_,[p("div",j,[p("a",{href:`/sub/${e.subcategory_id}/0/`},[e.subcategory?(i(),o("button",U,[p("i",{class:h(`${e.subcategory.icon}`)},null,2)])):m("",!0)],8,T),p("a",{href:`/torrent/${e.id}/${e.slug}/`,class:"text-gray-300 hover:text-orange-400 transition-colors ml-3"},f(e.name),9,z)]),e.comments_count?(i(),o("span",A,f(e.comments_count),1)):m("",!0)])]),p("td",I,[p("span",S,f(e.seeders),1)]),p("td",V,[p("span",q,f(e.leechers),1)]),p("td",E,f(te(e.approved_at)),1),p("td",F,[p("button",{hidden:"",onClick:t=>{return a=e,W.value=a,X.name=a.name||"",X.description=a.detail.description||"",void(Q.value=!0);var a},class:"p-2 hover:text-blue-500 transition",title:"Edit"},t[1]||(t[1]=[p("i",{class:"fas fa-edit text-lg"},null,-1)]),8,J),p("button",{onClick:t=>{return a=e,R.value=a,void(P.value=!0);var a},class:"p-2 hover:text-red-500 transition",title:"Delete"},t[2]||(t[2]=[p("i",{class:"fas fa-trash text-lg"},null,-1)]),8,O)])]))),128))])])])])]),P.value?(i(),o("div",B,[p("div",G,[t[6]||(t[6]=p("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Delete Confirmation ",-1)),p("p",H,[t[4]||(t[4]=b(" Are you sure you want to delete ",-1)),p("span",K,f(R.value?.name),1),t[5]||(t[5]=b("? This action cannot be undone. ",-1))]),p("div",{class:"flex justify-end space-x-3"},[p("button",{onClick:se,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),p("button",{onClick:le,class:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white"}," Delete ")])])])):m("",!0)]),_:1})],64))}};export{L as default};
