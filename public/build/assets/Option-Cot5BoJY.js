import{j as V,r as i,s as A,H as o,I as B,c,o as d,d as u,u as p,h as F,w as S,a as e,f as h,F as g,l as y,t as r,v as f,G as j,e as E,p as O}from"./app-BtglDM4z.js";/* empty css            */const U={class:"max-w-full bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},z={class:"flex gap-2 border-gray-700"},I={class:"border border-gray-300 rounded p-2 flex-1"},N=["value"],R={class:"border border-gray-300 rounded p-2 flex-1"},G=["value"],H={class:"overflow-x-auto mt-8"},K={class:"min-w-full boder-black"},L={class:"table-auto border-collapse border border-gray-500"},W=["onClick"],q={class:"px-2 py-3"},J={class:"flex items-center justify-between"},Q={class:"flex items-center"},X={class:"text-center px-2 py-2 hidden md:table-cell"},Z={class:"bg-green-600 text-white px-1 text-xs rounded"},ee={class:"text-center px-2 py-2 hidden md:table-cell"},te={class:"bg-red-800 text-white px-1 text-xs rounded"},ae={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},se={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},oe={class:"text-center px-2 py-2"},re={class:"text-orange-400 hover:text-orange-300 transition-colors"},ie={__name:"Option",setup(ne){const{props:n}=V(),_=i(n.category),v=i(n.torrents.data),Y=i(n.sel_category),M=i(n.sel_subcategory),b=i(n.subcategories),m=n.torrents.current_page,x=n.torrents.last_page,l=A({language:"English",type:"Choose Category",category:Y.value,subcategory:M.value,tags:""});o.extend(B);const w=t=>{const s=o();return o(t,o.ISO_8601,!0).isValid()?o(t):(t=t.replace(/(\d+)(st|nd|rd|th)/gi,"$1"),t=t.replace(/'(\d{2})/,"20$1"),t=t.replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(t)?o(`${s.format("YYYY-MM-DD")} ${t}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):o(t,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))},D=t=>{if(t)t=t.split(".")[0];else return"last year";const s=w(t),a=o();return s.isSame(a,"day")?s.format("h:mma"):s.format("ha MMM. D")},C=async()=>{if(l.category)try{const t=await O.get(`/option/category?category=${l.category}`);b.value=t.data?t.data.subcategory:[]}catch(t){console.error("Failed to fetch torrents:",t)}},P=t=>{t>=1&&t<=x.value&&(m.value=t)},k=async()=>{window.location.href=`/option/${l.subcategory}/1`},$=async t=>{window.location.href=`/edit/${t}`};return performance.navigation.type===performance.navigation.TYPE_BACK_FORWARD&&location.reload(),(t,s)=>(d(),c(g,null,[u(p(F),{title:"Your Torrents Uploads"}),u(E,null,{default:S(()=>[e("div",U,[e("div",z,[e("div",I,[s[2]||(s[2]=e("label",{class:"block text-sm font-medium text-gray-200 mb-2 mt-3"},"Category",-1)),h(e("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>l.category=a),onChange:C,class:"p-2 border border-gray-300 bg-gray-700 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(d(!0),c(g,null,y(_.value,a=>(d(),c("option",{key:a,value:a.id,class:"bg-gray-700"},r(a.name),9,N))),128))],544),[[f,l.category]])]),e("div",R,[s[3]||(s[3]=e("label",{class:"block text-sm font-medium text-gray-200 mb-2"},"SubCategory",-1)),h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>l.subcategory=a),onChange:k,class:"p-2 border border-gray-300 bg-gray-700 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(d(!0),c(g,null,y(b.value,a=>(d(),c("option",{key:a,value:a.id,class:"bg-gray-700"},r(a.name),9,G))),128))],544),[[f,l.subcategory]])])]),e("div",H,[e("table",K,[s[4]||(s[4]=e("thead",{class:"bg-gradient-to-r from-orange-400 to-red-500"},[e("tr",null,[e("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"size"),e("th",{class:"text-center px-4 py-1 text-gray-300 font-semibold"},"uploader")])],-1)),e("tbody",L,[(d(!0),c(g,null,y(v.value,(a,T)=>(d(),c("tr",{key:T,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs",onClick:le=>$(a.id)},[e("td",q,[e("div",J,[e("div",Q,r(a.name),1)])]),e("td",X,[e("span",Z,r(a.seeders),1)]),e("td",ee,[e("span",te,r(a.leechers),1)]),e("td",ae,r(D(a.approved_at)),1),e("td",se,r(a.size_formatted),1),e("td",oe,[e("a",null,[e("span",re,r(a.uploader?.split("/")[2]),1)])])],8,W))),128))])]),u(j,{currentPage:p(m),lastPage:p(x),onPageChanged:P},null,8,["currentPage","lastPage"])])])]),_:1})],64))}};export{ie as default};
