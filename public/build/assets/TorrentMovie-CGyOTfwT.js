import{r as e,b as t,g as a,j as l,C as s,u as n,J as r,k as o,l as d,q as c,z as i,F as u,y as x,A as p,K as b,t as m,v as g}from"./vendor-iYT8hLxN.js";import{d as y,r as f,u as h,h as v,a as Y,t as M}from"./app-DX8Qg3i4.js";/* empty css            */const w={class:"px-2 md:px-0"},k={class:"featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},D={class:"featured-heading bg-gradient-to-r from-orange-400 to-red-500 px-4 py-3 flex items-center"},j={class:"text-white font-bold"},$={class:"featured-icon"},_={class:"overflow-x-auto"},C={class:"min-w-full"},z={class:"px-2 py-3"},T={class:"flex items-center justify-between"},S={class:"flex items-center"},V=["href"],I={key:0,class:""},q=["href"],A={key:0,class:"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2"},U={class:"text-center px-2 py-2 hidden md:table-cell"},E={class:"bg-green-600 text-white px-1 text-xs rounded"},F={class:"text-center px-2 py-2 hidden md:table-cell"},J={class:"bg-red-800 text-white px-1 text-xs rounded"},K={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},N={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},O={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},B=["href"],G={class:"text-orange-400 hover:text-orange-300 transition-colors"},H={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},L={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},P={class:"text-gray-600 mb-6"},Q={class:"font-bold"},R={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},W={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},X={class:"mb-4"},Z={class:"mb-4"},ee={__name:"TorrentMovie",emits:["delete","edit"],setup(ee,{emit:te}){const ae=e(!1),le=e(!1),se=e(null),ne=e(null),re=t({name:"",description:""});y.extend(f);const{props:oe}=h(),de=e(oe.torrents),ce=e=>{const t=(e=>{const t=y();return y(e,y.ISO_8601,!0).isValid()?y(e):(e=(e=(e=e.replace(/(\d+)(st|nd|rd|th)/gi,"$1")).replace(/'(\d{2})/,"20$1")).replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(e)?y(`${t.format("YYYY-MM-DD")} ${e}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):y(e,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))})(e),a=y();return t.isValid()?t.isSame(a,"day")?t.format("h:mma"):t.format("MMM. D, YYYY"):"Invalid date"},ie=te;function ue(){le.value=!1,ne.value=null}function xe(){ie("edit",{...ne.value,...re}),ue()}function pe(){ae.value=!1,se.value=null}function be(){ie("delete",se.value),async function(e){M.deleteTorrent(e).then(t=>{de.value=de.value.filter(function(t){return t.id!=e})}).catch(e=>{})}(se.value.id),pe()}return(e,t)=>(l(),a(u,null,[s(n(v),{title:"Your Torrents torrents"}),s(Y,null,{default:r(()=>[o("div",w,[o("div",k,[o("div",D,[o("h2",j,[o("span",$,[o("i",{class:i(e.icon)},null,2)]),t[2]||(t[2]=c(" Your Torrents torrents ",-1))])]),o("div",_,[o("table",C,[t[3]||(t[3]=o("thead",{class:"bg-gray-700"},[o("tr",null,[o("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),o("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se "),o("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le "),o("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time "),o("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"size "),o("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"}," uploader ")])],-1)),o("tbody",null,[(l(!0),a(u,null,x(de.value,(e,t)=>(l(),a("tr",{key:t,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs"},[o("td",z,[o("div",T,[o("div",S,[o("a",{href:`/sub/${e.subcategory_id}/0/`},[e.subcategory?(l(),a("button",I,[o("i",{class:i(`${e.subcategory.icon}`)},null,2)])):d("",!0)],8,V),o("a",{href:`/torrent/${e.id}/${e.slug}/`,class:"text-gray-300 hover:text-orange-400 transition-colors ml-3"},p(e.name),9,q)]),e.comments_count?(l(),a("span",A,p(e.comments_count),1)):d("",!0)])]),o("td",U,[o("span",E,p(e.seeders),1)]),o("td",F,[o("span",J,p(e.leechers),1)]),o("td",K,p(ce(e.approved_at)),1),o("td",N,p(e.size_formatted),1),o("td",O,[o("a",{href:e.uploader},[o("span",G,p(e.uploader?.split("/")[2]),1)],8,B)])]))),128))])])])])]),ae.value?(l(),a("div",H,[o("div",L,[t[6]||(t[6]=o("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Delete Confirmation ",-1)),o("p",P,[t[4]||(t[4]=c(" Are you sure you want to delete ",-1)),o("span",Q,p(se.value?.name),1),t[5]||(t[5]=c("? This action cannot be undone. ",-1))]),o("div",{class:"flex justify-end space-x-3"},[o("button",{onClick:pe,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),o("button",{onClick:be,class:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white"}," Delete ")])])])):d("",!0),le.value?(l(),a("div",R,[o("div",W,[t[10]||(t[10]=o("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Edit Item ",-1)),o("form",{onSubmit:b(xe,["prevent"])},[o("div",X,[t[7]||(t[7]=o("label",{class:"block text-gray-700 mb-2"},"Name",-1)),m(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>re.name=e),type:"text",class:"w-full px-3 py-2 border text-black rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[g,re.name]])]),o("div",Z,[t[8]||(t[8]=o("label",{class:"block text-gray-700 mb-2"},"Description",-1)),m(o("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>re.description=e),class:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"3"},null,512),[[g,re.description]])]),o("div",{class:"flex justify-end space-x-3"},[o("button",{type:"button",onClick:ue,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),t[9]||(t[9]=o("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white"}," Save ",-1))])],32)])])):d("",!0)]),_:1})],64))}};export{ee as default};
