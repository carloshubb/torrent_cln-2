import{j as V,r as i,s as A,O as o,P as B,c as l,o as c,d as u,u as p,h as F,w as O,a as e,f as h,F as g,l as y,t as d,v as f,N as S,e as j,p as E}from"./app-BzKobzlC.js";/* empty css            */const L={class:"max-w-full bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},N={class:"flex gap-2 border-gray-700"},U={class:"border border-gray-300 rounded p-2 flex-1"},z=["value"],H={class:"border border-gray-300 rounded p-2 flex-1"},R=["value"],I={class:"overflow-x-auto mt-8"},K={class:"min-w-full boder-black"},W={class:"table-auto border-collapse border border-gray-500"},q=["onClick"],G={class:"px-2 py-3"},J={class:"flex items-center justify-between"},Q=["innerHTML"],X={class:"text-center px-2 py-2 hidden md:table-cell"},Z={class:"bg-green-600 text-white px-1 text-xs rounded"},ee={class:"text-center px-2 py-2 hidden md:table-cell"},te={class:"bg-red-800 text-white px-1 text-xs rounded"},ae={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},se={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},oe={class:"text-center px-2 py-2"},re={class:"text-orange-400 hover:text-orange-300 transition-colors"},ie={__name:"Option",setup(ne){const{props:r}=V(),_=i(r.category),v=i(r.torrents.data),Y=i(r.sel_category),M=i(r.sel_subcategory),b=i(r.subcategories),m=r.torrents.current_page,x=r.torrents.last_page,n=A({language:"English",type:"Choose Category",category:Y.value,subcategory:M.value,tags:""});o.extend(B);const w=t=>{const s=o();return o(t,o.ISO_8601,!0).isValid()?o(t):(t=t.replace(/(\d+)(st|nd|rd|th)/gi,"$1"),t=t.replace(/'(\d{2})/,"20$1"),t=t.replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(t)?o(`${s.format("YYYY-MM-DD")} ${t}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):o(t,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))},D=t=>{if(t)t=t.split(".")[0];else return"last year";const s=w(t),a=o();return s.isSame(a,"day")?s.format("h:mma"):s.format("ha MMM. D")},C=async()=>{if(n.category)try{const t=await E.get(`/option/category?category=${n.category}`);b.value=t.data?t.data.subcategory:[]}catch(t){console.error("Failed to fetch torrents:",t)}},P=t=>{t>=1&&t<=x.value&&(m.value=t)},k=async()=>{window.location.href=`/option/${n.subcategory}/1`},$=async t=>{window.location.href=`/edit/${t}`};return performance.navigation.type===performance.navigation.TYPE_BACK_FORWARD&&location.reload(),(t,s)=>(c(),l(g,null,[u(p(F),{title:"Your Torrents Uploads"}),u(j,null,{default:O(()=>[e("div",L,[e("div",N,[e("div",U,[s[2]||(s[2]=e("label",{class:"block text-sm font-medium text-gray-200 mb-2 mt-3"},"Category",-1)),h(e("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>n.category=a),onChange:C,class:"p-2 border border-gray-300 bg-gray-700 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(c(!0),l(g,null,y(_.value,a=>(c(),l("option",{key:a,value:a.id,class:"bg-gray-700"},d(a.name),9,z))),128))],544),[[f,n.category]])]),e("div",H,[s[3]||(s[3]=e("label",{class:"block text-sm font-medium text-gray-200 mb-2"},"SubCategory",-1)),h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>n.subcategory=a),onChange:k,class:"p-2 border border-gray-300 bg-gray-700 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(c(!0),l(g,null,y(b.value,a=>(c(),l("option",{key:a,value:a.id,class:"bg-gray-700"},d(a.name),9,R))),128))],544),[[f,n.subcategory]])])]),e("div",I,[e("table",K,[s[4]||(s[4]=e("thead",{class:"bg-gradient-to-r from-orange-400 to-red-500"},[e("tr",null,[e("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"size"),e("th",{class:"text-center px-4 py-1 text-gray-300 font-semibold"},"uploader")])],-1)),e("tbody",W,[(c(!0),l(g,null,y(v.value,(a,T)=>(c(),l("tr",{key:T,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs",onClick:le=>$(a.id)},[e("td",G,[e("div",J,[e("div",{class:"flex items-center",innerHTML:a.name},null,8,Q)])]),e("td",X,[e("span",Z,d(a.seeders),1)]),e("td",ee,[e("span",te,d(a.leechers),1)]),e("td",ae,d(D(a.approved_at)),1),e("td",se,d(a.size_formatted),1),e("td",oe,[e("a",null,[e("span",re,d(a.uploader?.split("/")[2]),1)])])],8,q))),128))])]),u(S,{currentPage:p(m),lastPage:p(x),onPageChanged:P},null,8,["currentPage","lastPage"])])])]),_:1})],64))}};export{ie as default};
