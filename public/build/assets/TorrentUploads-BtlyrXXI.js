import{r as c,s as z,G as o,H as I,j as A,c as a,o as d,d as v,u as B,h as F,w as q,a as e,k as u,b,m as _,F as Y,l as G,t as i,z as H,f as M,g as w,e as L,p as O}from"./app-BRs9rzeh.js";/* empty css            */const P={class:"px-2 md:px-0"},J={class:"featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},K={class:"featured-heading bg-gradient-to-r from-orange-400 to-red-500 px-4 py-3 flex items-center"},Q={class:"text-white font-bold"},R={class:"featured-icon"},W={class:"overflow-x-auto"},X={class:"min-w-full"},Z={class:"px-2 py-3"},ee={class:"flex items-center justify-between"},te={class:"flex items-center"},se=["href"],le={key:0,class:""},oe=["href"],ne={key:0,class:"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2"},ae={class:"text-center px-2 py-2 hidden md:table-cell"},de={class:"bg-green-600 text-white px-1 text-xs rounded"},ie={class:"text-center px-2 py-2 hidden md:table-cell"},re={class:"bg-red-800 text-white px-1 text-xs rounded"},ce={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},ue={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},xe=["onClick"],me=["onClick"],pe={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},fe={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},be={class:"text-gray-600 mb-6"},ge={class:"font-bold"},he={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},ye={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},ve={class:"mb-4"},_e={class:"mb-4"},De={__name:"TorrentUploads",emits:["delete","edit"],setup(Ye,{emit:D}){const x=c(!1),m=c(!1),r=c(null),p=c(null),n=z({name:"",description:""});o.extend(I);const{props:k}=A(),f=c(k.uploads),C=s=>{const t=o();return o(s,o.ISO_8601,!0).isValid()?o(s):(s=s.replace(/(\d+)(st|nd|rd|th)/gi,"$1"),s=s.replace(/'(\d{2})/,"20$1"),s=s.replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(s)?o(`${t.format("YYYY-MM-DD")} ${s}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):o(s,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))},$=s=>{const t=C(s),l=o();return t.isValid()?t.isSame(l,"day")?t.format("h:mma"):t.format("MMM. D, YYYY"):"Invalid date"},g=D;function T(s){p.value=s,console.log(s.name),n.name=s.name||"",n.description=s.detail.description||"",m.value=!0}function V(s){r.value=s,x.value=!0}function h(){m.value=!1,p.value=null}function j(){g("edit",{...p.value,...n}),h()}function y(){x.value=!1,r.value=null}function E(){g("delete",r.value),S(r.value.id),y()}async function S(s){O.deleteTorrent(s).then(t=>{f.value=f.value.filter(function(l){return l.id!=s})}).catch(t=>console.error(t))}return(s,t)=>(d(),a(Y,null,[v(B(F),{title:"Your Torrents Uploads"}),v(L,null,{default:q(()=>[e("div",P,[e("div",J,[e("div",K,[e("h2",Q,[e("span",R,[e("i",{class:_(s.icon)},null,2)]),t[2]||(t[2]=b(" Your Torrents Uploads ",-1))])]),e("div",W,[e("table",X,[t[5]||(t[5]=e("thead",{class:"bg-gray-700"},[e("tr",null,[e("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"remove ")])],-1)),e("tbody",null,[(d(!0),a(Y,null,G(f.value,(l,U)=>(d(),a("tr",{key:U,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs"},[e("td",Z,[e("div",ee,[e("div",te,[e("a",{href:`/sub/${l.subcategory_id}/0/`},[l.subcategory?(d(),a("button",le,[e("i",{class:_(`${l.subcategory.icon}`)},null,2)])):u("",!0)],8,se),e("a",{href:`/torrent/${l.id}/${l.slug}/`,class:"text-gray-300 hover:text-orange-400 transition-colors ml-3"},i(l.name),9,oe)]),l.comments_count?(d(),a("span",ne,i(l.comments_count),1)):u("",!0)])]),e("td",ae,[e("span",de,i(l.seeders),1)]),e("td",ie,[e("span",re,i(l.leechers),1)]),e("td",ce,i($(l.approved_at)),1),e("td",ue,[e("button",{hidden:"",onClick:N=>T(l),class:"p-2 hover:text-blue-500 transition",title:"Edit"},t[3]||(t[3]=[e("i",{class:"fas fa-edit text-lg"},null,-1)]),8,xe),e("button",{onClick:N=>V(l),class:"p-2 hover:text-red-500 transition",title:"Delete"},t[4]||(t[4]=[e("i",{class:"fas fa-trash text-lg"},null,-1)]),8,me)])]))),128))])])])])]),x.value?(d(),a("div",pe,[e("div",fe,[t[8]||(t[8]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Delete Confirmation ",-1)),e("p",be,[t[6]||(t[6]=b(" Are you sure you want to delete ",-1)),e("span",ge,i(r.value?.name),1),t[7]||(t[7]=b("? This action cannot be undone. ",-1))]),e("div",{class:"flex justify-end space-x-3"},[e("button",{onClick:y,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),e("button",{onClick:E,class:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white"}," Delete ")])])])):u("",!0),m.value?(d(),a("div",he,[e("div",ye,[t[12]||(t[12]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Edit Item ",-1)),e("form",{onSubmit:H(j,["prevent"])},[e("div",ve,[t[9]||(t[9]=e("label",{class:"block text-gray-700 mb-2"},"Name",-1)),M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>n.name=l),type:"text",class:"w-full px-3 py-2 border text-black rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[w,n.name]])]),e("div",_e,[t[10]||(t[10]=e("label",{class:"block text-gray-700 mb-2"},"Description",-1)),M(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>n.description=l),class:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"3"},null,512),[[w,n.description]])]),e("div",{class:"flex justify-end space-x-3"},[e("button",{type:"button",onClick:h,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),t[11]||(t[11]=e("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white"}," Save ",-1))])],32)])])):u("",!0)]),_:1})],64))}};export{De as default};
