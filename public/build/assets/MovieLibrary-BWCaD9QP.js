import{r as a,M as K,i as N,c as r,o as s,d as S,u as J,h as q,w as Q,a as t,k as f,t as d,m as c,F as u,l as g,n as U,N as W,H as X,e as Z,p as ee}from"./app-BzKobzlC.js";/* empty css            */const te={class:"pt-5 w-full bg-gradient-to-r from-gray-250 to-gray-500 text-white"},le={class:"container"},oe={class:"bg-gray-800 p-4 rounded-lg mb-6 flex items-center gap-4 flex-wrap"},re={class:"relative"},se={class:"relative"},ne={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ae=["onClick"],ie={class:"relative"},de={class:"relative"},ue={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ce=["onClick"],ge={class:"relative"},ve={class:"relative"},fe={key:0,class:"absolute top-full left-0 mt-1 w-36 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},be=["onClick"],ye={class:"relative"},pe={class:"relative"},me={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ke=["onClick"],we={class:"relative"},xe={class:"relative"},he={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},_e=["onClick"],Ce={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},Me=["onClick"],Be={class:"p-2 flex justify-center"},Se={class:"flex"},je={class:"p-6 text-white"},Ae={class:"text-2xl font-bold mb-2 text-white"},$e={class:"flex gap-2 mb-4"},Le=["innerHTML"],ze={class:"text-sm mb-6 leading-relaxed text-white opacity-90"},De={__name:"MovieLibrary",props:{page:String},setup(j){const A=j,n=a({genre:!1,year:!1,language:!1,sortBy:!1,sortOrder:!1}),p=a("All"),m=a("All"),k=a("All"),x=a("Movie Score"),h=a("Descending"),w=a(!1),b=a(null),$=a(["All","Action","Crime","Drama","Comedy","Thriller","Horror","Romance","Sci-Fi","Adventure"]),L=a(["All","2025","2024","2023","2022","2021","2020","2019","2018","2017","2016","2015"]),z=a(["All","English","Spanish","French","German","Italian","Japanese","Korean","Chinese"]),O=a(["Movie Score","Release Date","Title","Rating","Year"]),P=a(["Descending","Ascending"]),_=a([]),C=a(1),M=a(1);a("movielibary");const D=K(()=>{let l=[..._.value];return p.value!=="All"&&(l=l.filter(e=>e.genre===p.value)),m.value!=="All"&&(l=l.filter(e=>e.year.toString()===m.value)),k.value!=="All"&&(l=l.filter(e=>e.language===k.value)),l}),y=l=>{Object.keys(n.value).forEach(e=>{e!==l&&(n.value[e]=!1)}),n.value[l]=!n.value[l]},E=l=>{p.value=l,n.value.genre=!1},T=l=>{m.value=l,n.value.year=!1},F=l=>{k.value=l,n.value.language=!1},R=l=>{x.value=l,n.value.sortBy=!1},Y=l=>{h.value=l,n.value.sortOrder=!1},G=()=>{let l="";switch(x.value){case"Movie Score":l="score";break;case"Release Date":case"Year":l="year";break;case"Title":l="title";break;case"Rating":l="rating";break;default:l="score"}movies.value.sort((e,o)=>{let i=e[l],v=o[l];return typeof i=="string"&&(i=i.toLowerCase(),v=v.toLowerCase()),h.value==="Ascending"?i>v?1:i<v?-1:0:i<v?1:i>v?-1:0})},H=l=>{b.value=l,w.value=!0,document.body.style.overflow="hidden"},B=()=>{w.value=!1,b.value=null,document.body.style.overflow="auto"},V=l=>{console.log(l),l>=1&&l<=M.value&&(C.value=l)};async function I(l){try{const e=await ee.get(`/library/movies?page=${l}`);_.value=e.data.data,C.value=e.data.current_page,M.value=e.data.last_page,console.log(_)}catch(e){console.error("Failed to fetch torrents:",e)}}return N(()=>{document.addEventListener("click",l=>{l.target.closest(".relative")||Object.keys(n.value).forEach(e=>{n.value[e]=!1})}),document.addEventListener("keydown",l=>{l.key==="Escape"&&w.value&&B()}),I(A.page)}),(l,e)=>(s(),r(u,null,[S(J(q),{title:l.$page.props.title},null,8,["title"]),S(Z,null,{default:Q(()=>[t("div",te,[t("div",le,[t("div",oe,[t("div",re,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium mb-1"},"Genre",-1)),t("div",se,[t("button",{onClick:e[0]||(e[0]=o=>y("genre")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(p.value),1),(s(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.genre}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[6]||(e[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),n.value.genre?(s(),r("div",ne,[(s(!0),r(u,null,g($.value,o=>(s(),r("button",{key:o,onClick:i=>E(o),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(o),9,ae))),128))])):f("",!0)])]),t("div",ie,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium mb-1"},"Year",-1)),t("div",de,[t("button",{onClick:e[1]||(e[1]=o=>y("year")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(m.value),1),(s(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.year}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[8]||(e[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),n.value.year?(s(),r("div",ue,[(s(!0),r(u,null,g(L.value,o=>(s(),r("button",{key:o,onClick:i=>T(o),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(o),9,ce))),128))])):f("",!0)])]),t("div",ge,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium mb-1"},"Language",-1)),t("div",ve,[t("button",{onClick:e[2]||(e[2]=o=>y("language")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-36 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(k.value),1),(s(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.language}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),n.value.language?(s(),r("div",fe,[(s(!0),r(u,null,g(z.value,o=>(s(),r("button",{key:o,onClick:i=>F(o),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(o),9,be))),128))])):f("",!0)])]),t("div",ye,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium mb-1"},"Sort By",-1)),t("div",pe,[t("button",{onClick:e[3]||(e[3]=o=>y("sortBy")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(x.value),1),(s(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.sortBy}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),n.value.sortBy?(s(),r("div",me,[(s(!0),r(u,null,g(O.value,o=>(s(),r("button",{key:o,onClick:i=>R(o),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},d(o),9,ke))),128))])):f("",!0)])]),t("div",we,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium mb-1"},"Sort",-1)),t("div",xe,[t("button",{onClick:e[4]||(e[4]=o=>y("sortOrder")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[t("span",null,d(h.value),1),(s(),r("svg",{class:c(["w-4 h-4 transition-transform",{"rotate-180":n.value.sortOrder}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[14]||(e[14]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),n.value.sortOrder?(s(),r("div",he,[(s(!0),r(u,null,g(P.value,o=>(s(),r("button",{key:o,onClick:i=>Y(o),class:c(["block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b",{"text-red-400":o==="Descending"}])},d(o),11,_e))),128))])):f("",!0)])]),t("div",{class:"flex items-end"},[t("button",{onClick:G,class:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-2 rounded font-medium transition-colors"}," Sort ")])]),t("div",Ce,[(s(!0),r(u,null,g(D.value,o=>(s(),r("div",{key:o.id,class:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow"},[t("div",{class:"aspect-[2/3] bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center relative cursor-pointer",onClick:i=>H(o)},[t("div",{class:"w-full h-64 bg-cover bg-center",style:U({backgroundImage:`url('${o.img_url}')`})},null,4)],8,Me),t("div",Be,[t("div",Se,[(s(),r(u,null,g(5,i=>t("svg",{key:i,class:c([i<=o.rate?"text-yellow-400":"text-gray-500","w-4 h-4"]),fill:"currentColor",viewBox:"0 0 20 20"},[...e[16]||(e[16]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))])])]))),128))])])]),S(W,{currentPage:C.value,lastPage:M.value,onPageChanged:V},null,8,["currentPage","lastPage"]),w.value?(s(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:B},[t("div",{class:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg max-w-md w-full mx-4 relative overflow-hidden",onClick:e[5]||(e[5]=X(()=>{},["stop"]))},[t("button",{onClick:B,class:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},[...e[17]||(e[17]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),t("div",je,[t("h2",Ae,d(b.value?.info_title),1),t("div",$e,[t("span",{class:"text-sm bg-black bg-opacity-20 px-5 py-1 rounded ml-10",innerHTML:b.value?.category},null,8,Le)]),t("p",ze,d(b.value?.content),1),e[18]||(e[18]=t("div",{class:"flex gap-3"},[t("div",{class:"text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2"})],-1))])])])):f("",!0)]),_:1})],64))}};export{De as default};
